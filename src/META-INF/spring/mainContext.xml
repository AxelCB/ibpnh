<?xml version="1.0" encoding="UTF-8"?>
<!-- Repository and Service layers -->
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd


	http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd">
	
	<context:annotation-config /> <!-- This Enables Autowiring -->
	<context:property-placeholder location='classpath:META-INF/config.properties' />

	<!-- Profile Unaware Beans -->
	<beans>
		<!-- EntityManagerHelper Config -->
		<!--<bean id="persitenceManagerHolder" class="org.kairos.ibpnh.dao.PersistenceManagerHolder" scope="singleton">-->
			<!--<constructor-arg value="${jdo.persistenceFile.location}"></constructor-arg>-->
			<!--&lt;!&ndash;<constructor-arg value="${jpa.persistenceUnitName}"></constructor-arg>&ndash;&gt;-->
		<!--</bean>-->

		<!-- Dozer Mapper Config -->
		<!--<bean id="mapper" class="org.dozer.DozerBeanMapper" scope="singleton">-->
			<!--<property name="mappingFiles">-->
				<!--<list>-->
					<!--<value>${dozer.mappingFile.main}</value>-->
				<!--</list>-->
			<!--</property>-->
		<!--</bean>-->
		<bean id="objectifyBoostrap" class="org.kairos.ibpnh.json.ObjectifyBootstrap" init-method="init" scope="singleton"/>

		<!-- JSON -->
		<bean id="gson" class="org.kairos.ibpnh.json.GsonSpringFactoryBean" scope="singleton" />

		<!-- Cache -->
		<bean id="JCacheUserCacheImpl"
			class="org.kairos.ibpnh.services.caching.client.jcache.JCacheUserCacheImpl" scope="prototype">
			<!--<property name="servers" value="${cache.servers}" />-->
			<property name="cacheHolder">
				<bean id="cacheHolder" class="org.kairos.ibpnh.services.caching.client.CacheHolder" scope="singleton">
					<constructor-arg value=""></constructor-arg>
					<!--<constructor-arg name="userCacheName" value="${cache.userCacheName}" />-->
					<!--<constructor-arg name="parameterCacheName" value="${cache.parameterCacheName}" />-->
				</bean>
			</property>
			<property name="userDuration" value="${cache.userCache.duration}" />
			<property name="timeUnit" value="${cache.userCache.timeUnit}" />
		</bean>

		<!-- DAOs that need initializing -->
		<bean id="parameterDao"	class="org.kairos.ibpnh.dao.configuration.parameter.ParameterDaoObjectifyImpl" scope="prototype" init-method="init" />
		<!--init-method="init"-->
		
		<!-- Default Charset Post Processor -->
		<bean id="httpStringMessageConverterOverridePostProcessor" class="org.kairos.ibpnh.utils.HttpStringMessageConverterOverridePostProcessor"/>

		<!--<bean class = "org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter">-->
		<!--</bean>-->
	</beans>
</beans>